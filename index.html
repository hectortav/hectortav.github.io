<!DOCTYPE html>
<html id="main" class="container">
<title>hectortav</title>

<head>
    <link rel="stylesheet" href="styles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;600;800&display=swap" rel="stylesheet" />
</head>

<body onload="load()">
    <div>
        <div class="header sticky">
            <div style="display: flex; flex-direction: row">
                <a href="https://hectortav.github.io" class="logo">hectortav</a>
                <div class="header-links">
                    <div class="highlight active" style="margin-right:0.5rem;">
                        <a href="index.html">Home</a>
                    </div>
                    <div class="highlight" style="margin-right:0.5rem;">
                        <a href="contact.html">Contact</a>
                    </div>
                    <div class="highlight" style="margin-right:0.5rem;">
                        <a href="https://github.com/hectortav" target="_blank">Github</a>
                    </div>
                    <div style="display: flex;align-items: center;">
                        <label class="switch" style="vertical-align: middle;">
                            <input type="checkbox" id="changeTheme" onclick="darkmode()">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div>
        <div id="articles" class="content-list">
        </div>
    </div>
    </div>
    <script>
        const currentTheme = localStorage.getItem("theme");
        if (currentTheme == "dark") {
            main.classList.add("dark-theme");
            document.getElementById("changeTheme").checked = true;
        }
        function darkmode() {
            var checkBox = document.getElementById("changeTheme");
            if (checkBox.checked == true) {
                main.classList.add("dark-theme");
                localStorage.setItem("theme", "dark");
            } else {
                main.classList.remove("dark-theme");
                localStorage.setItem("theme", "light");
            }
        }
    </script>
    <script type="text/javascript" src="data.js"></script>
    <script type="text/javascript">
        function load() {
            const image_factor = 1/5;
            var articles = JSON.parse(data);
            var div = document.getElementById('articles');
            for (var i = 0; i < articles.length; i++) {
                var bottom_links = "";
                var image = "";
                if (articles[i].image) {
                    image = "<img src=\"" + articles[i].image.uri + "\" alt=\"" + articles[i].image.alt + "\" width=\"" + articles[i].image.width*image_factor + "\" height=\"" + articles[i].image.height*image_factor + "\" style=\"padding-top: 1rem;\"/>";
                }
                var tags = "<div style=\"flex-direction:column\"><div class=\"tag-container\">";
                if (articles[i].tags) {
                    for (var j = 0; j < articles[i].tags.length; j++) {
                        tags = tags + "<div class=\"tag\"><a>" + articles[i].tags[j] + "</a></div><br>"
                        if (j && j%6 === 0) {
                            tags = tags + "</div><div class=\"tag-container\">";
                        }
                    }
                }
                tags = tags + "</div></div>";
                if (articles[i].links && articles[i].links.length > 0) {
                    bottom_links = "<br/><br/><div style=\"display: flex;flex-direction:row;\">";
                    for (var j = 0; j < articles[i].links.length; j++) {
                        bottom_links = bottom_links + "<div class=\"article-links-container\"><a class=\"article-links\" target=\"_blank\" href=" + articles[i].links[j].uri + ">" + articles[i].links[j].title + "</a></div>"
                    }
                    bottom_links = bottom_links + "</div>"
                }
                div.innerHTML = div.innerHTML + "<div class='content'><div class='description'><b class='title'>" + articles[i].title + "</b><div class='subtitle' style='text-indent:2rem;'>" + articles[i].subtitle + "</div></div><div class='body'>" + articles[i].body + "<br/>" + image + "<br/>" + tags + "<br/>" + bottom_links + "</div></div><hr/>";
            }
        }
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-179245360-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-179245360-1');
    </script>
    <script data-ad-client="ca-pub-2460319464094235" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</body>

</html>